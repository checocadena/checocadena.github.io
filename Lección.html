<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Módulo 1: ¿Qué es el cambio climático?</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#3b82f6',secondary:'#10b981'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body {
font-family: 'Montserrat', sans-serif;
background-color: #f8fafc;
}
.progress-bar::-webkit-progress-bar {
background-color: #e5e7eb;
border-radius: 9999px;
}
.progress-bar::-webkit-progress-value {
background-color: #3b82f6;
border-radius: 9999px;
}
.page {
position: absolute;
width: 100%;
height: calc(100vh - 12rem - 4rem); /* Subtract header and navigation height */
opacity: 0;
transform: translateX(100%);
transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.page.active {
opacity: 1;
transform: translateX(0);
}
.page.hidden {
transform: translateX(-100%);
}
.page.previous {
transform: translateX(100%);
}
.card-container {
position: relative;
height: calc(100vh - 12rem - 4rem); /* Subtract header and navigation height */
overflow: hidden;
}
.card-content {
height: 100%;
display: flex;
flex-direction: column;
}
.card-body {
flex: 1;
overflow-y: auto;
padding: 1.5rem;
}
.custom-checkbox {
appearance: none;
width: 20px;
height: 20px;
border: 2px solid #d1d5db;
border-radius: 4px;
position: relative;
cursor: pointer;
transition: all 0.2s;
}
.custom-checkbox:checked {
background-color: #3b82f6;
border-color: #3b82f6;
}
.custom-checkbox:checked::after {
content: "";
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 10px;
height: 10px;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M5 13l4 4L19 7' /%3E%3C/svg%3E");
background-size: contain;
background-repeat: no-repeat;
}
@media (max-width: 768px) {
.page {
height: calc(100vh - 8rem - 4rem); /* Adjust for mobile header and navigation */
}
.card-container {
height: calc(100vh - 8rem - 4rem); /* Adjust for mobile header and navigation */
}
}
.intro-card {
    position: absolute;
    width: 100%;
    height: calc(100vh - 12rem - 4rem);
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}
.intro-card.active {
    opacity: 1;
    transform: scale(1);
}
.intro-card.hidden {
    opacity: 0;
    transform: scale(1.2);
}
.outro-card {
    position: absolute;
    width: 100%;
    height: calc(100vh - 12rem - 4rem);
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}
.outro-card.active {
    opacity: 1;
    transform: scale(1);
}
.outro-card.hidden {
    opacity: 0;
    transform: scale(1.2);
}
</style>
</head>
<body class="bg-gray-50">
<nav class="bg-white shadow-sm fixed w-full z-[60]">
<div class="max-w-7xl mx-auto px-4">
<div class="flex justify-between h-12">
<div class="flex items-center space-x-4">
<button id="sidebarToggle" class="md:hidden text-gray-600">
  <i class="ri-menu-line text-xl"></i>
</button>
<a href="index.html" class="flex items-center space-x-2">
<i class="ri-arrow-left-line text-gray-600"></i>
<span class="text-gray-600 hidden md:inline">Volver</span>
</a>
</div>
<div class="flex items-center space-x-4">
<div class="flex items-center space-x-3">
<img class="h-6 w-6 rounded-full object-cover" src="https://public.readdy.ai/ai/img_res/e6fc6e9f5fddc40965f692da20d1bceb.jpg" alt="Usuario">
<span class="text-sm font-medium text-gray-700 hidden md:inline">Carlos</span>
</div>
</div>
</div>
</div>
</nav>
<div class="pt-12">
<div class="bg-white shadow-sm">
<div class="max-w-7xl mx-auto px-4 py-1 md:py-2">
<div class="flex items-center justify-between">
<div class="flex-1">
<h1 class="text-sm md:text-lg font-bold text-gray-900">Módulo 1: ¿Qué es el cambio climático?</h1>
<div class="mt-0.5 md:mt-1">
<progress id="progressBar" class="progress-bar w-full h-1 md:h-1.5" value="0" max="100"></progress>
<div class="flex justify-between mt-0.5 md:mt-1 text-xs text-gray-500">
<span id="progressText">0% completado</span>
<span id="timeDisplay">15 min</span>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="flex">
<div id="sidebar" class="w-64 bg-white shadow-sm overflow-y-auto fixed h-[calc(100%-3rem)] top-50 transition-transform duration-300 transform -translate-x-full md:translate-x-0 z-[40]">
<div class="p-3">
<div class="space-y-2">
<div class="border-b pb-1">
<h3 class="font-medium text-sm text-gray-900">Contenido del Curso</h3>
</div>
<div class="space-y-1">
<div class="flex items-center text-primary bg-blue-50 p-1.5 rounded text-sm">
<i class="ri-play-circle-fill mr-2"></i>
<span>1. ¿Qué es el cambio climático?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">2. ¿Por qué está cambiando el clima?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">3. ¿Qué pasa si no hacemos nada?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">4. ¿Qué están haciendo los gobiernos?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">5. ¿Cómo se mide la contaminación?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">6. ¿Cómo podemos contaminar menos?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">7. ¿Cómo podemos adaptarnos?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">8. ¿Qué es el mercado de carbono?</span>
</div>
<div class="flex items-center text-gray-500 p-2 rounded">
<i class="ri-lock-line mr-2"></i>
<span class="text-sm">9. ¿Qué está haciendo CYDSA?</span>
</div>
</div>
</div>
</div>
</div>

<div id="mainContent" class="flex-1 md:ml-64 transition-all duration-300">
<div class="max-w-4xl mx-auto px-4 md:px-8 py-4">
<div class="card-container" style="height: calc(100vh - 12rem - 4rem); overflow: hidden;">
<!-- Intro Card -->
<div id="intro-card" class="bg-white rounded-lg shadow-sm page active" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="flex flex-col items-center justify-center h-full p-8 text-center">
<div class="w-24 h-24 flex items-center justify-center bg-blue-100 text-primary rounded-full mb-6">
<i class="ri-earth-line ri-3x"></i>
</div>
<h2 class="text-3xl font-bold text-gray-800 mb-4">Bienvenido al Módulo 1</h2>
<p class="text-xl text-gray-600 mb-8">Exploraremos juntos el fascinante tema del cambio climático</p>
<div class="flex items-center space-x-2 text-gray-500">
<i class="ri-time-line"></i>
<span>Duración: 15 minutos</span>
</div>
<button onclick="nextCard()" class="mt-8 px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-blue-600 transition-colors">
Comenzar
</button>
</div>
</div>
</div>

<!-- Card 1: Introduction -->
<div id="card1" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-blue-100 text-primary rounded-full mr-3 flex-shrink-0">
<i class="ri-book-open-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">¿Qué es el cambio climático?</h2>
<p class="text-gray-600">Cuando eras niño, ¿te acuerdas que llovía más seguido y hacía más fresco en ciertas épocas?</p>
</div>
</div>
</div>
<div class="card-body">
<div class="prose max-w-none">
<p class="mb-6 text-lg">Hoy en día el clima parece loco: llueve todo de golpe, hace calor en meses fríos, y hay incendios o sequías en lugares que antes no los tenían.</p>
<p class="mb-6 text-lg">Eso se llama <strong>cambio climático</strong>.</p>
</div>
</div>
</div>
</div>

<!-- Card 2: Definition -->
<div id="card2" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-blue-100 text-primary rounded-full mr-3 flex-shrink-0">
<i class="ri-book-open-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Definición</h2>
<p class="text-gray-600">El cambio climático es cuando el clima de todo el planeta cambia mucho y por muchos años.</p>
</div>
</div>
</div>
<div class="card-body">
<div class="prose max-w-none">
<p class="mb-6 text-lg">No es algo normal como un frente frío o una ola de calor que dura unos días. Es un cambio más grande y duradero.</p>
</div>
</div>
</div>
</div>

<!-- Card 3: Examples -->
<div id="card3" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-yellow-100 text-yellow-600 rounded-full mr-3 flex-shrink-0">
<i class="ri-lightbulb-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Ejemplos comunes</h2>
<p class="text-gray-600">¿Has notado alguno de estos cambios?</p>
</div>
</div>
</div>
<div class="card-body">
<div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg">
<ul class="list-disc pl-5 space-y-4 text-gray-700 text-lg">
<li>"Antes llovía seguido en junio; ahora no llueve o cae todo de golpe."</li>
<li>"Antes hacía fresco en diciembre; ahora sudamos en Navidad."</li>
<li>"Las temporadas de huracanes son más intensas que hace 20 años."</li>
</ul>
</div>
</div>
</div>
</div>

<!-- Card 4: Causes -->
<div id="card4" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-red-100 text-red-600 rounded-full mr-3 flex-shrink-0">
<i class="ri-question-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">¿Por qué está ocurriendo?</h2>
<p class="text-gray-600">Según expertos, esto está pasando porque las personas estamos contaminando mucho con:</p>
</div>
</div>
</div>
<div class="card-body">
<ul class="list-disc pl-5 space-y-4 text-gray-700 text-lg">
<li>El humo de fábricas e industrias</li>
<li>Los gases de escape de vehículos</li>
<li>La quema de combustibles fósiles</li>
<li>La deforestación masiva</li>
</ul>
<p class="mt-6 text-lg">Todos estos factores contribuyen a lo que llamamos "efecto invernadero", que atrapa el calor en la atmósfera y calienta gradualmente nuestro planeta.</p>
</div>
</div>
</div>

<!-- Card 5: Normal vs Climate Change -->
<div id="card5" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-green-100 text-green-600 rounded-full mr-3 flex-shrink-0">
<i class="ri-compare-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Clima Normal vs Cambio Climático</h2>
<p class="text-gray-600">Entendiendo la diferencia</p>
</div>
</div>
</div>
<div class="card-body">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="bg-blue-50 p-6 rounded-lg">
<h3 class="font-semibold text-gray-800 mb-4 text-xl">Clima Normal</h3>
<ul class="space-y-4 text-gray-700 text-lg">
<li class="flex items-start">
<i class="ri-check-line text-blue-500 mr-3 mt-0.5 text-xl"></i>
<span>Cambios estacionales predecibles</span>
</li>
<li class="flex items-start">
<i class="ri-check-line text-blue-500 mr-3 mt-0.5 text-xl"></i>
<span>Variaciones a corto plazo</span>
</li>
<li class="flex items-start">
<i class="ri-check-line text-blue-500 mr-3 mt-0.5 text-xl"></i>
<span>Eventos extremos ocasionales</span>
</li>
</ul>
</div>
<div class="bg-orange-50 p-6 rounded-lg">
<h3 class="font-semibold text-gray-800 mb-4 text-xl">Cambio Climático</h3>
<ul class="space-y-4 text-gray-700 text-lg">
<li class="flex items-start">
<i class="ri-alert-line text-orange-500 mr-3 mt-0.5 text-xl"></i>
<span>Alteración de patrones a largo plazo</span>
</li>
<li class="flex items-start">
<i class="ri-alert-line text-orange-500 mr-3 mt-0.5 text-xl"></i>
<span>Aumento de eventos extremos</span>
</li>
<li class="flex items-start">
<i class="ri-alert-line text-orange-500 mr-3 mt-0.5 text-xl"></i>
<span>Cambios en ecosistemas completos</span>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- Card 6: Temperature Chart -->
<div id="card6" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-blue-100 text-primary rounded-full mr-3 flex-shrink-0">
<i class="ri-line-chart-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Temperatura Global</h2>
<p class="text-gray-600">Evolución de la temperatura desde 1880 hasta 2023</p>
</div>
</div>
</div>
<div class="card-body">
<div id="temperatureChart" class="w-full h-64 bg-gray-50 rounded"></div>
</div>
</div>
</div>

<!-- Card 7: Temperature Comparison -->
<div id="card7" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-blue-100 text-primary rounded-full mr-3 flex-shrink-0">
<i class="ri-compare-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Comparación Histórica</h2>
<p class="text-gray-600">Cambios en el clima a través del tiempo</p>
</div>
</div>
</div>
<div class="card-body">
<div class="grid grid-cols-2 gap-4">
<div class="bg-blue-50 p-4 rounded text-center">
<div class="text-blue-500 mb-2">
<i class="ri-sun-cloudy-line ri-2x"></i>
</div>
<h4 class="font-medium text-gray-800 mb-2">Antes (1950-1980)</h4>
<ul class="text-sm text-gray-600 text-left pl-2 space-y-1">
<li>• Estaciones predecibles</li>
<li>• Lluvias regulares</li>
<li>• Menos eventos extremos</li>
</ul>
</div>
<div class="bg-orange-50 p-4 rounded text-center">
<div class="text-orange-500 mb-2">
<i class="ri-thunderstorms-line ri-2x"></i>
</div>
<h4 class="font-medium text-gray-800 mb-2">Ahora (1990-2023)</h4>
<ul class="text-sm text-gray-600 text-left pl-2 space-y-1">
<li>• Estaciones irregulares</li>
<li>• Lluvias intensas o sequías</li>
<li>• Más eventos extremos</li>
</ul>
</div>
</div>
</div>
</div>
</div>

<!-- Card 8: Activity -->
<div id="card8" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-purple-100 text-purple-600 rounded-full mr-3 flex-shrink-0">
<i class="ri-target-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Actividad</h2>
<p class="text-gray-600">¿Qué cambios del clima has notado tú?</p>
</div>
</div>
</div>
<div class="card-body">
<div class="bg-purple-50 p-6 rounded-lg">
<p class="mb-4 text-gray-700 text-lg">Selecciona los cambios que has observado en tu región:</p>
<div class="grid grid-cols-2 gap-4">
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Veranos más calurosos</span>
</label>
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Lluvias más intensas</span>
</label>
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Inviernos menos fríos</span>
</label>
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Más sequías</span>
</label>
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Cambios en cosechas</span>
</label>
<label class="flex items-start">
<input type="checkbox" class="custom-checkbox mr-3 mt-0.5">
<span class="text-gray-700 text-base">Nuevas especies</span>
</label>
</div>
<div class="mt-4">
<label class="block text-gray-700 mb-2 text-base">¿Has notado algún otro cambio? Cuéntanos:</label>
<textarea class="w-full border border-gray-300 rounded p-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" rows="2" placeholder="Escribe aquí tu respuesta..."></textarea>
</div>
</div>
</div>
</div>
</div>

<!-- Card 9: Resources -->
<div id="card9" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
<div class="card-content">
<div class="p-6 border-b border-gray-200">
<div class="flex items-start">
<div class="w-12 h-12 flex items-center justify-center bg-gray-100 text-gray-600 rounded-full mr-3 flex-shrink-0">
<i class="ri-book-2-line ri-2x"></i>
</div>
<div>
<h2 class="text-2xl font-semibold text-gray-800 mb-1">Recursos adicionales</h2>
<p class="text-gray-600">Material complementario para profundizar en el tema</p>
</div>
</div>
</div>
<div class="card-body">
<ul class="space-y-4">
<li>
<a href="#" class="flex items-center text-primary hover:underline">
<div class="w-8 h-8 flex items-center justify-center mr-3">
<i class="ri-file-list-line text-xl"></i>
</div>
<span class="text-lg">Informe IPCC 2023 (resumen)</span>
</a>
</li>
<li>
<a href="#" class="flex items-center text-primary hover:underline">
<div class="w-8 h-8 flex items-center justify-center mr-3">
<i class="ri-video-line text-xl"></i>
</div>
<span class="text-lg">Video: Efectos del cambio climático</span>
</a>
</li>
<li>
<a href="#" class="flex items-center text-primary hover:underline">
<div class="w-8 h-8 flex items-center justify-center mr-3">
<i class="ri-global-line text-xl"></i>
</div>
<span class="text-lg">Mapa interactivo de impactos</span>
</a>
</li>
</ul>
<div class="mt-8">
<h3 class="text-lg font-semibold text-gray-800 mb-3">Fuentes citadas</h3>
<ul class="space-y-2 text-sm text-gray-600">
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-gray-400 mr-2 mt-0.5">
<i class="ri-book-2-line"></i>
</div>
<span>Gobierno de México - Instituto Nacional de Ecología y Cambio Climático (INECC)</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-gray-400 mr-2 mt-0.5">
<i class="ri-earth-line"></i>
</div>
<span>NASA - Programa de Investigación del Cambio Climático</span>
</li>
<li class="flex items-start">
<div class="w-5 h-5 flex items-center justify-center text-gray-400 mr-2 mt-0.5">
<i class="ri-file-chart-line"></i>
</div>
<span>Panel Intergubernamental sobre Cambio Climático (IPCC) - Sexto Informe de Evaluación</span>
</li>
</ul>
</div>
</div>
</div>
</div>

<!-- Outro Card -->
<div id="outro-card" class="bg-white rounded-lg shadow-sm page hidden" style="height: calc(100vh - 12rem - 4rem);">
    <div class="card-content">
    <div class="flex flex-col items-center justify-center h-full p-8 text-center">
    <div class="w-24 h-24 flex items-center justify-center bg-green-100 text-green-600 rounded-full mb-6">
    <i class="ri-checkbox-circle-line ri-3x"></i>
    </div>
    <h2 class="text-3xl font-bold text-gray-800 mb-4">¡Felicidades!</h2>
    <p class="text-xl text-gray-600 mb-4">Has completado el Módulo 1</p>
    <p class="text-lg text-gray-500 mb-8">Ahora entiendes mejor qué es el cambio climático y sus efectos</p>
    <div class="flex space-x-4">
    <a href="index.html" class="px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors">
    Volver al inicio
    </a>
    <a href="#" class="px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-blue-600 transition-colors">
    Siguiente módulo
    </a>
    </div>
    </div>
    </div>
    </div>

</div>
</div>
</div>
</div>

<!-- Navigation buttons at the bottom -->
<div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 z-[50] md:left-64" style="height: 4rem;">
    <div class="max-w-2xl mx-auto flex justify-between">
        <button onclick="prevCard()" class="px-4 py-2 border border-gray-300 text-gray-700 font-medium !rounded-button whitespace-nowrap flex items-center text-sm">
            <div class="w-4 h-4 flex items-center justify-center mr-1">
                <i class="ri-arrow-left-line"></i>
            </div>
            Anterior
        </button>
        <button onclick="nextCard()" class="px-4 py-2 bg-primary text-white font-medium !rounded-button whitespace-nowrap flex items-center text-sm">
            Siguiente
            <div class="w-4 h-4 flex items-center justify-center ml-1">
                <i class="ri-arrow-right-line"></i>
            </div>
        </button>
</div>
</div>

<script>
let currentCard = 0;
const totalCards = 11;
const totalTime = 15; // Total minutes for the module

function updateTime() {
    const timeDisplay = document.getElementById('timeDisplay');
    // Calculate remaining time based on card progress
    const contentCards = totalCards - 2; // Subtract intro and outro cards
    const currentProgress = Math.max(0, currentCard - 1); // Subtract intro card
    const remainingMinutes = Math.max(0, Math.ceil(totalTime * (1 - (currentProgress / contentCards))));
    timeDisplay.textContent = `${remainingMinutes} min`;
}

function updateProgress() {
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const contentCards = totalCards - 2;
    const currentProgress = Math.max(0, currentCard - 1);
    const progress = Math.round((currentProgress / contentCards) * 100);
    
    progressBar.value = progress;
    progressText.textContent = `${progress}% completado`;
    updateTime();
}

function nextCard() {
    if (currentCard >= totalCards - 1) return;
    const currentElement = document.getElementById(getCardId(currentCard));
    if (currentElement) {
        currentElement.classList.remove('active');
        currentElement.classList.add('hidden');
    }
    currentCard++;
    const nextElement = document.getElementById(getCardId(currentCard));
    if (nextElement) {
        nextElement.classList.remove('hidden');
        nextElement.classList.add('active');
        
        // Trigger confetti when reaching the outro card
        if (currentCard === totalCards - 1) {
            triggerConfetti();
        }
    }
    updateProgress();
}

function prevCard() {
    if (currentCard <= 0) return;
    const currentElement = document.getElementById(getCardId(currentCard));
    if (currentElement) {
        currentElement.classList.remove('active');
        currentElement.classList.add('hidden');
    }
    currentCard--;
    const prevElement = document.getElementById(getCardId(currentCard));
    if (prevElement) {
        prevElement.classList.remove('hidden');
        prevElement.classList.add('active');
    }
    updateProgress();
}

function getCardId(index) {
    if (index === 0) return 'intro-card';
    if (index === totalCards - 1) return 'outro-card';
    return `card${index}`;
}

function triggerConfetti() {
    const duration = 1.5 * 1000;
    const animationEnd = Date.now() + duration;
    const defaults = { startVelocity: 20, spread: 360, ticks: 100, zIndex: 0 };

    function randomInRange(min, max) {
        return Math.random() * (max - min) + min;
    }

    const interval = setInterval(function() {
        const timeLeft = animationEnd - Date.now();

        if (timeLeft <= 0) {
            return clearInterval(interval);
        }

        const particleCount = 25 * (timeLeft / duration);

        // Three fixed positions around the card
        const positions = [
            { x: 0.4, y: 0.3 }, // Top left
            { x: 0.8, y: 0.3 }, // Top right
            { x: 0.6, y: 0.9 }  // Bottom center
        ];

        positions.forEach(pos => {
            confetti({
                ...defaults,
                particleCount,
                origin: pos,
                spread: 60,
                startVelocity: 25
            });
        });
    }, 200);
}

// Add sidebar toggle functionality
document.addEventListener('DOMContentLoaded', function() {
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');

    if (sidebarToggle && sidebar && mainContent) {
        sidebarToggle.addEventListener('click', function() {
            sidebar.classList.toggle('-translate-x-full');
            sidebar.classList.toggle('translate-x-0');
            mainContent.classList.toggle('md:ml-64');
        });
    }

    // Hide all cards except intro
    for (let i = 1; i < totalCards; i++) {
        const card = document.getElementById(getCardId(i));
        if (card) {
            card.classList.add('hidden');
            card.classList.remove('active');
        }
    }
    
    // Show intro card
    const introCard = document.getElementById('intro-card');
    if (introCard) {
        introCard.classList.add('active');
        introCard.classList.remove('hidden');
    }

    // Initialize chart
    const chart = echarts.init(document.getElementById('temperatureChart'));
    const option = {
        tooltip: {
            trigger: 'axis',
            formatter: '{b}: {c}°C'
        },
        xAxis: {
            type: 'category',
            data: ['1880', '1900', '1920', '1940', '1960', '1980', '2000', '2023'],
            axisLabel: {
                fontSize: 12
            }
        },
        yAxis: {
            type: 'value',
            name: 'Temperatura (°C)',
            nameTextStyle: {
                fontSize: 12
            },
            axisLabel: {
                fontSize: 12
            }
        },
        series: [{
            data: [-0.2, -0.1, 0.1, 0.2, 0.3, 0.4, 0.8, 1.2],
            type: 'line',
            smooth: true,
            lineStyle: {
                color: '#3b82f6',
                width: 3
            },
            areaStyle: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                    { offset: 0, color: 'rgba(59, 130, 246, 0.3)' },
                    { offset: 1, color: 'rgba(59, 130, 246, 0.1)' }
                ])
            }
        }],
        grid: {
            left: '3%',
            right: '3%',
            bottom: '3%',
            top: '3%',
            containLabel: true
        }
    };
    chart.setOption(option);
    
    // Initial resize
    chart.resize();
    
    // Add resize handler to make chart responsive
    window.addEventListener('resize', function() {
        chart.resize();
    });

    // Also resize when the card becomes visible
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.attributeName === 'class') {
                const card = document.getElementById('card6');
                if (card && !card.classList.contains('hidden')) {
                    chart.resize();
                }
            }
        });
    });

    const card6 = document.getElementById('card6');
    if (card6) {
        observer.observe(card6, { attributes: true });
    }

    // Initialize progress and time
    updateProgress();
    updateTime();
});
</script>
</body>
</html>